(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(4583)}])},4583:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var a=n(5893),r=n(7294),i=n(6855),o=n.n(i),s=n(9669),l=n.n(s),c=n(5885);var d=function(e){var t=(new c.Z).get("user_uid"),n=(0,r.useState)(void 0),i=n[0],s=n[1],d=(0,r.useState)(void 0),u=d[0],h=d[1],_=(0,r.useState)(void 0),p=_[0],m=_[1],f=(0,r.useState)(void 0),v=f[0],x=f[1],j=(0,r.useState)(void 0),g=j[0],N=j[1],y=(0,r.useState)(void 0),b=y[0],S=y[1],C=(0,r.useState)(!1),k=C[0],T=C[1],w=(0,r.useState)(!1),O=w[0],V=w[1],F=(0,r.useState)(!1),E=F[0],A=F[1],D=(0,r.useState)(""),I=D[0],R=D[1];return(0,a.jsx)("div",{className:o().pop_up_container,children:(0,a.jsx)("div",{className:o().box,children:(0,a.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(t,i,u,p,v,g,b),A(!0),void 0!==i&&void 0!==u&&void 0!==p){var n,a=parseFloat(i);n=1==k?0:parseFloat(u);var r={method:"post",url:"http://127.0.0.1:5000/trade-stock",headers:{"Content-Type":"text/plain"},data:JSON.stringify({user_uid:t,comp_name:p,share_number:a,target_price:n})};l()(r).then((function(e){R("Trade entered successfully!")})).catch((function(e){console.log(e.message),"Request failed with status code 403"==e.message?R("Currently no shares available for trade. \n Your transaction will enter the pending state."):"Request failed with status code 402"==e.message?R("You do not have enough money for this trade."):"Request failed with status code 401"==e.essage&&R("You do not owe enough shares of this stock.")}))}if(void 0!==v&&void 0!==g&&void 0!==b){var o,c=-parseFloat(v);o=1==O?0:parseFloat(g);var d={method:"post",url:"http://127.0.0.1:5000/trade-stock",headers:{"Content-Type":"text/plain"},data:JSON.stringify({user_uid:t,comp_name:b,share_number:c,target_price:o})};l()(d).then((function(e){R("Trade entered successfully!")})).catch((function(e){console.log(e.message),"Request failed with status code 403"==e.message?R("Currently no shares available for trade. \n Your transaction will enter the pending state."):"Request failed with status code 402"==e.message?R("You do not have enough money for this trade."):"Request failed with status code 401"==e.essage&&R("You do not owe enough shares of this stock.")}))}s(void 0),h(void 0),m(void 0),x(void 0),N(void 0),S(void 0)},children:[(0,a.jsxs)("div",{className:o().inline,children:[(0,a.jsxs)("div",{style:{marginRight:"7em"},children:[(0,a.jsx)("div",{className:o().trade_type,children:"Buy"}),(0,a.jsxs)("div",{className:o().trade_input,children:[(0,a.jsx)("div",{className:o().trade_input_container,children:(0,a.jsxs)("select",{placeholder:"Enter stock ticker.",onChange:function(e){m(e.target.value.toLowerCase())},className:o().trade_place,children:[(0,a.jsx)("option",{value:"AST",children:"AST"}),(0,a.jsx)("option",{value:"DSC",children:"DSC"}),(0,a.jsx)("option",{value:"FSIN",children:"FSIN"}),(0,a.jsx)("option",{value:"HHW",children:"HHW"}),(0,a.jsx)("option",{value:"JKY",children:"JKY"}),(0,a.jsx)("option",{value:"SGO",children:"SGO"}),(0,a.jsx)("option",{value:"WRKN",children:"WRKN"})]})}),(0,a.jsxs)("div",{className:o().trade_input_container,children:[" ",(0,a.jsx)("input",{type:"number",step:"any",name:"price",placeholder:"Enter your trading shares.",onChange:function(e){s(e.target.value)},value:i,className:o().trade_place})]}),(0,a.jsxs)("div",{className:o().trade_input_container,children:[" ",(0,a.jsx)("input",{type:"number",step:"any",name:"price",placeholder:"Price",onChange:function(e){h(e.target.value)},value:u,className:o().price_place}),(0,a.jsx)("button",{className:o().trade_current,onClick:function(e){T(!0),e.preventDefault(),l()({method:"POST",url:"http://127.0.0.1:5000/current-price",headers:{"Content-Type":"text/plain"},data:JSON.stringify(p)}).then((function(e){var t=e.data.price;h(t)})).catch((function(e){console.log(e)}))},children:(0,a.jsx)("p",{children:"Current"})})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:o().trade_type,children:"Sell"}),(0,a.jsxs)("div",{className:o().trade_input,children:[(0,a.jsx)("div",{className:o().trade_input_container,children:(0,a.jsxs)("select",{placeholder:"Enter stock ticker.",onChange:function(e){S(e.target.value.toLowerCase())},className:o().trade_place,children:[(0,a.jsx)("option",{value:"AST",children:"AST"}),(0,a.jsx)("option",{value:"DSC",children:"DSC"}),(0,a.jsx)("option",{value:"FSIN",children:"FSIN"}),(0,a.jsx)("option",{value:"HHW",children:"HHW"}),(0,a.jsx)("option",{value:"JKY",children:"JKY"}),(0,a.jsx)("option",{value:"SGO",children:"SGO"}),(0,a.jsx)("option",{value:"WRKN",children:"WRKN"})]})}),(0,a.jsx)("div",{className:o().trade_input_container,children:(0,a.jsx)("input",{type:"number",step:"any",name:"price",placeholder:"Enter your trading shares.",onChange:function(e){x(e.target.value)},value:v,className:o().trade_place})}),(0,a.jsxs)("div",{className:o().trade_input_container,children:[" ",(0,a.jsx)("input",{type:"number",step:"any",name:"price",placeholder:"Price",onChange:function(e){N(e.target.value)},value:g,className:o().price_place}),(0,a.jsx)("button",{className:o().trade_current,onClick:function(e){V(!0),e.preventDefault(),l()({method:"POST",url:"http://127.0.0.1:5000/current-price",headers:{"Content-Type":"text/plain"},data:JSON.stringify(b)}).then((function(e){var t=e.data.price;N(t)})).catch((function(e){console.log(e)}))},children:(0,a.jsx)("p",{children:"Current"})})]})]})]})]}),E&&(0,a.jsx)("p",{className:o().success,children:I}),(0,a.jsxs)("div",{style:{marginTop:"0.5em"},children:[(0,a.jsx)("button",{type:"submit",className:o().trade_stock_button,children:(0,a.jsx)("p",{children:"Enter Trade"})}),(0,a.jsx)("button",{className:o().back,onClick:e.toggleClose,type:"button",children:(0,a.jsx)("p",{children:"Back"})})]})]})})})};var u=function(){var e=function(e){var t=Number((100*Math.abs(e)).toPrecision(15));return Math.round(t)/100*Math.sign(e)},t=(0,r.useState)(!1),n=t[0],i=t[1],s="...",d="...",u="...",h=(0,r.useState)({accountValue:void 0,cashValue:void 0,category:"portfolio_value",holdingValue:void 0}),_=h[0],p=h[1],m=(new c.Z).get("user_uid");(0,r.useEffect)((function(){void 0!=_.accountValue&&i(!0);var e=setInterval((function(){var e={method:"post",url:"http://127.0.0.1:5000/portfolio-detail",headers:{"Content-Type":"text/plain"},data:JSON.stringify(m)};l()(e).then((function(e){p(e.data.portfolio_value)})).catch((function(e){console.log(e)}))}),5e3);return function(){return clearInterval(e)}}),[_,m]);var f=0;return f=void 0!=_.accountValue?e((_.accountValue-1e5)/1e5*100):0,(0,a.jsx)("div",{style:{marginLeft:"1em",paddingTop:"0.5em",paddingBottom:"0.75em"},children:n?(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("p",{className:o().title,children:"Account Value"}),(0,a.jsxs)("div",{className:o().account_value,style:{marginBottom:"0.2em"},children:["$ ",_.accountValue]}),(0,a.jsxs)("div",{className:o().inline,style:{marginTop:"0.25em"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:o().title,children:"Net Holding"}),(0,a.jsx)("div",{className:o().price_change,children:e(_.holdingValue)})]}),(0,a.jsxs)("div",{style:{marginLeft:"5em"},children:[(0,a.jsx)("p",{className:o().title,children:"Total Change"}),(0,a.jsxs)("div",{className:o().price_change,children:[f,"%"]})]})]}),(0,a.jsx)("div",{className:o().inline,style:{marginTop:"0.25em"},children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:o().title,children:"Cash Value"}),(0,a.jsx)("div",{className:o().price_change,children:e(_.cashValue)})]})})]}):(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("p",{className:o().title,children:"Account Value"}),(0,a.jsxs)("div",{className:o().account_value,style:{marginBottom:"0.2em"},children:["$ ",s]}),(0,a.jsxs)("div",{className:o().inline,style:{marginTop:"0.25em"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:o().title,children:"Net Holding"}),(0,a.jsx)("div",{className:o().price_change,children:u})]}),(0,a.jsxs)("div",{style:{marginLeft:"5em"},children:[(0,a.jsx)("p",{className:o().title,children:"Total Change"}),(0,a.jsxs)("div",{className:o().price_change,children:[f,"%"]})]})]}),(0,a.jsx)("div",{className:o().inline,style:{marginTop:"0.25em"},children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:o().title,children:"Cash Value"}),(0,a.jsx)("div",{className:o().price_change,children:e(d)})]})})]})})},h=n(9008),_=n.n(h);function p(e){var t=function(e){var t=Number((100*Math.abs(e)).toPrecision(15));return Math.round(t)/100*Math.sign(e)},n=e.company,r=n.category,i=n.shares_holding,s=n.total_holding,l=n.cost,c=null,d=null,u=0,h=0;return"portfolio_value"!=r&&(c=s,d=i,r,h=t(s-l),u=t((s-l)/l*100)),0!=d?(0,a.jsxs)("tr",{className:o().holding_detail,children:[(0,a.jsx)("td",{className:o().comp_link,children:r.toUpperCase()}),(0,a.jsx)("td",{children:d}),(0,a.jsx)("td",{children:t(c)}),(0,a.jsx)("td",{style:h>0?{color:"#C9FFD1"}:{color:"#FD6565"},children:h}),(0,a.jsxs)("td",{style:u>0?{color:"#C9FFD1"}:{color:"#FD6565"},children:[u,"%"]})]},r):(0,a.jsx)("tbody",{},"random")}var m=function(e){var t=(new c.Z).get("user_uid"),i=(0,r.useRef)(null),s=(0,r.useState)({portfolio_value:{accountValue:0,cashValue:0,category:"portfolio_value",holdingValue:0}}),l=s[0],d=s[1];return(0,r.useEffect)((function(){var e=setInterval((function(){n(9669)({method:"post",url:"http://127.0.0.1:5000/portfolio-detail",headers:{"Content-Type":"text/plain"},data:JSON.stringify(t)}).then((function(e){d(e.data)})).catch((function(e){console.log(e)}))}),5e3);return function(){return clearInterval(e)}}),[l,t]),(0,a.jsx)("div",{className:o().scroll,children:(0,a.jsx)("div",{ref:i,children:(0,a.jsxs)("table",{className:o().screener_table,children:[(0,a.jsx)("tbody",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Ticker"}),(0,a.jsx)("th",{children:"Shares"}),(0,a.jsx)("th",{children:"Total Value"}),(0,a.jsx)("th",{children:"Change"}),(0,a.jsx)("th",{children:"Percentage"})]})}),(0,a.jsx)("tbody",{className:o().table_line,children:Object.keys(l).map((function(e){return"portfolio_value"!=e?(0,a.jsx)(p,{company:l[e]}):null}))})]})})})},f=n(2923),v=n(603),x=n(4615),j=n.n(x);var g=function(){var e=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),t=(0,r.useState)({"":{cash_value:null,value_change:0,pct_change:0,ranking:0}}),i=t[0],o=t[1];return(0,r.useEffect)((function(){n(9669)({method:"POST",url:"http://127.0.0.1:5000/total-rank",headers:{}}).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}),[]),(0,a.jsxs)("table",{className:j().user_table,children:[(0,a.jsx)("tbody",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Rank"}),(0,a.jsx)("th",{children:"User Name"}),(0,a.jsx)("th",{children:"Cash Value"}),(0,a.jsx)("th",{children:"Value Change"}),(0,a.jsx)("th",{children:"Percentage Change"})]})}),(0,a.jsx)("tbody",{children:Object.entries(i).map((function(t,n){var r=(0,v.Z)(t,2),i=r[0],o=r[1];return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:j().ranking,children:o.ranking}),(0,a.jsx)("td",{className:j().normal,children:i}),(0,a.jsxs)("td",{className:j().normal,children:["$",o.cash_value]}),(0,a.jsx)("td",{className:j().normal,style:o.value_change>0?{color:"#C9FFD1"}:{color:"#FD6565"},children:o.value_change}),(0,a.jsxs)("td",{className:j().normal,style:o.pct_change>0?{color:"#C9FFD1"}:{color:"#FD6565"},children:[e.format(100*o.pct_change)," %"]})]},i)}))})]})},N=function(e){var t=(new c.Z).get("user_uid"),n=(0,r.useState)(!1),i=n[0],s=n[1],h=function(){s(!i)},p=(0,r.useState)(0),v=p[0],x=p[1];return(0,r.useEffect)((function(){var e=JSON.stringify(t),n={method:"post",url:"http://127.0.0.1:5000/show-ranking",headers:{"Content-Type":"text/plain"},data:e};return l()(n).then((function(e){x(e.data)})).catch((function(e){console.log(e)})),function(){return clearInterval(e)}}),[t]),(0,a.jsxs)("div",{children:[(0,a.jsx)(_(),{children:(0,a.jsx)("title",{children:"Dashboard"})}),(0,a.jsx)(f.Z,{}),(0,a.jsxs)("div",{className:o().container,children:[(0,a.jsx)("div",{className:o().center_container,children:(0,a.jsxs)("div",{className:o().inline,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:o().header,children:"PORTFOLIO OVERVIEW"}),(0,a.jsx)("div",{className:o().value_container,style:{marginBottom:"1.25em"},children:(0,a.jsx)(u,{})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:o().header,children:"GAME STATUS"}),(0,a.jsxs)("div",{className:o().value_container,style:{paddingLeft:"1em",paddingTop:"0.5em",paddingBottom:"0.75em"},children:[(0,a.jsx)("p",{className:o().title,children:"CURRENT RANK"}),(0,a.jsx)("p",{className:o().account_value,children:v}),(0,a.jsx)("button",{className:o().trade_btn,onClick:h,children:(0,a.jsx)("p",{children:"Trade Stocks"})}),i&&(0,a.jsx)(d,{toggleClose:h})]})]})]}),(0,a.jsxs)("div",{style:{marginLeft:"1em"},children:[(0,a.jsx)("p",{className:o().header,children:"HOLDING DETAIL"}),(0,a.jsx)("div",{className:o().holdings_container,children:(0,a.jsx)(m,{})})]})]})}),(0,a.jsx)("div",{className:o().center_container,children:(0,a.jsx)("div",{style:{marginTop:"1.5em",marginBottom:"7em"},children:(0,a.jsxs)("div",{style:{marginLeft:"1em"},children:[(0,a.jsx)("p",{className:o().header,children:"GAME RANKING"}),(0,a.jsx)("div",{className:o().leaderboard,children:(0,a.jsx)(g,{})})]})})})]})]})}},4615:function(e){e.exports={container:"LeaderBoard3_container__tXSzP",header:"LeaderBoard3_header__5fQ7I",user_table:"LeaderBoard3_user_table__7YBco",normal:"LeaderBoard3_normal__fUutH",ranking:"LeaderBoard3_ranking__Nxxyr"}},6855:function(e){e.exports={container:"portfolio_container__PJG1w",center_container:"portfolio_center_container__JF5yk",value_container:"portfolio_value_container__cpEVG",header:"portfolio_header__OZa2A",title:"portfolio_title__1UX6E",account_value:"portfolio_account_value__jhd7_",inline:"portfolio_inline___enJ8",price_change:"portfolio_price_change__lfPWj",change_percentage:"portfolio_change_percentage__etCCn",trade_type:"portfolio_trade_type__MVDwd",trade_text:"portfolio_trade_text__ZbS5Z",trade_input_container:"portfolio_trade_input_container__QQp7c",trade_current:"portfolio_trade_current__gwrMP",price_place:"portfolio_price_place__ob5wN",trade_place:"portfolio_trade_place__jAIX9",trade_stock_button:"portfolio_trade_stock_button__hKGng",back:"portfolio_back__y8y12",pop_up_container:"portfolio_pop_up_container__BAg5U",box:"portfolio_box__W70va",trade_btn:"portfolio_trade_btn__QSrq9",success:"portfolio_success__eVNZU",chart_container:"portfolio_chart_container__aKe27",chart:"portfolio_chart__VdRPM",holdings_container:"portfolio_holdings_container__GXHTS",screener_table:"portfolio_screener_table__8J9WP",holding_detail:"portfolio_holding_detail__fux_l",table_line:"portfolio_table_line__NpZ5b",comp_link:"portfolio_comp_link__9s3lE",scroll:"portfolio_scroll__jItxB",ranking_container:"portfolio_ranking_container__Pf5z_",user_table:"portfolio_user_table__CykOg",normal:"portfolio_normal__UQxoZ",ranking:"portfolio_ranking__V1fR4",leaderboard:"portfolio_leaderboard__cMGnD"}},603:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[669,774,888,179],(function(){return t=528,e(e.s=t);var t}));var t=e.O();_N_E=t}]);