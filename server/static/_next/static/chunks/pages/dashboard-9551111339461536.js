(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(3590)}])},3590:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return f}});var t=a(5893),s=a(7294),r=a(6855),l=a.n(r),i=a(9669),c=a.n(i),o=a(5885);var d=function(e){var n=(new o.Z).get("userData"),a=(0,s.useState)(void 0),r=a[0],i=a[1],d=(0,s.useState)(void 0),h=d[0],u=d[1],_=(0,s.useState)(void 0),m=_[0],p=_[1],x=(0,s.useState)(void 0),j=x[0],v=x[1],f=(0,s.useState)(void 0),g=f[0],N=f[1],y=(0,s.useState)(void 0),k=y[0],b=y[1],C=(0,s.useState)(!1),T=C[0],S=C[1],E=(0,s.useState)(""),w=E[0],O=E[1];return(0,t.jsx)("div",{className:l().pop_up_container,children:(0,t.jsx)("div",{className:l().box,children:(0,t.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(n,r,h,m,j,g,k),S(!0),void 0!==r&&void 0!==h&&void 0!==m){var a=parseFloat(r),t=parseFloat(h),s={method:"post",url:"http://127.0.0.1:5000/trade-stock",headers:{"Content-Type":"text/plain"},data:JSON.stringify({user_name:n.user_name,comp_name:m,share_number:a,target_price:t})};c()(s).then((function(e){console.log(e.data),O("Trade entered successfully!")})).catch((function(e){console.log(e.message),"Request failed with status code 403"==e.message?O("Currently no shares available for trade. \n Your transaction will enter the pending state."):"Request failed with status code 402"==e.message?O("You do not have enough money for this trade."):"Request failed with status code 401"==e.essage&&O("You do not owe enough shares of this stock.")}))}if(void 0!==j&&void 0!==g&&void 0!==k){var l=-parseFloat(j),o=parseFloat(g);console.log(l);var d=JSON.stringify({user_name:n.user_name,comp_name:k,share_number:l,target_price:o});console.log(d);var _={method:"post",url:"http://127.0.0.1:5000/trade-stock",headers:{"Content-Type":"text/plain"},data:d};c()(_).then((function(e){console.log(e.data),O("Trade entered successfully!")})).catch((function(e){console.log(e.message),"Request failed with status code 403"==e.message?O("Currently no shares available for trade. \n Your transaction will enter the pending state."):"Request failed with status code 402"==e.message?O("You do not have enough money for this trade."):"Request failed with status code 401"==e.essage&&O("You do not owe enough shares of this stock.")}))}i(void 0),u(void 0),p(void 0),v(void 0),N(void 0),b(void 0)},children:[(0,t.jsxs)("div",{className:l().inline,children:[(0,t.jsxs)("div",{style:{marginRight:"7em"},children:[(0,t.jsx)("div",{className:l().trade_type,children:"Buy"}),(0,t.jsxs)("div",{className:l().trade_input,children:[(0,t.jsx)("div",{className:l().trade_input_container,children:(0,t.jsx)("input",{type:"text",placeholder:"Enter stock ticker.",onChange:function(e){p(e.target.value)},value:m,className:l().trade_place})}),(0,t.jsxs)("div",{className:l().trade_input_container,children:[" ",(0,t.jsx)("input",{type:"number",step:"any",name:"price",placeholder:"Enter your trading shares.",onChange:function(e){i(e.target.value)},value:r,className:l().trade_place})]}),(0,t.jsxs)("div",{className:l().trade_input_container,children:[" ",(0,t.jsx)("input",{type:"number",step:"any",name:"price",placeholder:"Enter your trading price.",onChange:function(e){u(e.target.value)},value:h,className:l().price_place}),(0,t.jsx)("button",{className:l().trade_current,onClick:function(e){e.preventDefault(),c()({method:"POST",url:"http://127.0.0.1:5000/current-price",headers:{"Content-Type":"text/plain"},data:JSON.stringify(m)}).then((function(e){var n=e.data.price;u(n)})).catch((function(e){console.log(e)}))},children:(0,t.jsx)("p",{children:"Current"})})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:l().trade_type,children:"Sell"}),(0,t.jsxs)("div",{className:l().trade_input,children:[(0,t.jsxs)("div",{className:l().trade_input_container,children:[" ",(0,t.jsx)("input",{type:"text",placeholder:"Enter stock ticker.",onChange:function(e){b(e.target.value)},value:k,className:l().trade_place})]}),(0,t.jsx)("div",{className:l().trade_input_container,children:(0,t.jsx)("input",{type:"number",step:"any",name:"price",placeholder:"Enter your trading shares.",onChange:function(e){v(e.target.value)},value:j,className:l().trade_place})}),(0,t.jsxs)("div",{className:l().trade_input_container,children:[" ",(0,t.jsx)("input",{type:"number",step:"any",name:"price",placeholder:"Enter your trading price.",onChange:function(e){N(e.target.value)},value:g,className:l().price_place}),(0,t.jsx)("button",{className:l().trade_current,onClick:function(e){e.preventDefault(),c()({method:"POST",url:"http://127.0.0.1:5000/current-price",headers:{"Content-Type":"text/plain"},data:JSON.stringify(k)}).then((function(e){var n=e.data.price;N(n)})).catch((function(e){console.log(e)}))},children:(0,t.jsx)("p",{children:"Current"})})]})]})]})]}),T&&(0,t.jsx)("p",{className:l().success,children:w}),(0,t.jsxs)("div",{style:{marginTop:"0.5em"},children:[(0,t.jsx)("button",{type:"submit",className:l().trade_stock_button,children:(0,t.jsx)("p",{children:"Enter Trade"})}),(0,t.jsx)("button",{className:l().back,onClick:e.toggleClose,type:"button",children:(0,t.jsx)("p",{children:"Back"})})]})]})})})};var h=function(){var e=function(e){var n=Number((100*Math.abs(e)).toPrecision(15));return Math.round(n)/100*Math.sign(e)},n=(0,s.useState)(!1),a=n[0],r=n[1],i="...",d="...",h="...",u=(0,s.useState)({accountValue:void 0,cashValue:void 0,category:"portfolio_value",holdingValue:void 0}),_=u[0],m=u[1],p=(new o.Z).get("userData"),x=(0,s.useState)(void 0),j=x[0],v=x[1];(0,s.useEffect)((function(){void 0!=_.accountValue&&r(!0);var e=setInterval((function(){c()({method:"POST",url:"http://127.0.0.1:5000/current-price",headers:{"Content-Type":"text/plain"},data:JSON.stringify("wrkn")}).then((function(e){var n=e.data.price;v(n),console.log(n)})).catch((function(e){console.log(e)}));var e={method:"post",url:"http://127.0.0.1:5000/update-value",headers:{"Content-Type":"text/plain"},data:JSON.stringify({user_name:p.user_name,name_price_dict:{wrkn:j}})};c()(e).then((function(e){m(e.data.portfolio_value)})).catch((function(e){console.log(e)}))}),1e3);return function(){return clearInterval(e)}}),[j]);var f=0;return f=void 0!=_.accountValue?e((_.accountValue-1e5)/1e5*100):0,(0,t.jsx)("div",{style:{marginLeft:"1em",paddingTop:"0.5em",paddingBottom:"0.75em"},children:a?(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("p",{className:l().title,children:"Account Value"}),(0,t.jsxs)("div",{className:l().account_value,style:{marginBottom:"0.2em"},children:["$ ",_.accountValue]}),(0,t.jsxs)("div",{className:l().inline,style:{marginTop:"0.25em"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:l().title,children:"Net Holding"}),(0,t.jsx)("div",{className:l().price_change,children:_.holdingValue})]}),(0,t.jsxs)("div",{style:{marginLeft:"5em"},children:[(0,t.jsx)("p",{className:l().title,children:"Total Change"}),(0,t.jsxs)("div",{className:l().price_change,children:[f,"%"]})]})]}),(0,t.jsx)("div",{className:l().inline,style:{marginTop:"0.25em"},children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:l().title,children:"Cash Value"}),(0,t.jsx)("div",{className:l().price_change,children:e(_.cashValue)})]})})]}):(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("p",{className:l().title,children:"Account Value"}),(0,t.jsxs)("div",{className:l().account_value,style:{marginBottom:"0.2em"},children:["$ ",i]}),(0,t.jsxs)("div",{className:l().inline,style:{marginTop:"0.25em"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:l().title,children:"Net Holding"}),(0,t.jsx)("div",{className:l().price_change,children:h})]}),(0,t.jsxs)("div",{style:{marginLeft:"5em"},children:[(0,t.jsx)("p",{className:l().title,children:"Total Change"}),(0,t.jsxs)("div",{className:l().price_change,children:[f,"%"]})]})]}),(0,t.jsx)("div",{className:l().inline,style:{marginTop:"0.25em"},children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:l().title,children:"Cash Value"}),(0,t.jsx)("div",{className:l().price_change,children:e(d)})]})})]})})},u=a(5152),_=a.n(u);function m(e){var n=function(e){var n=Number((100*Math.abs(e)).toPrecision(15));return Math.round(n)/100*Math.sign(e)},a=e.company,r=a.total_holdings,i=a.category,o=a.shares,d=a.last_price,h=null,u=null,_=i,m=null,p=0,x=0,j=(0,s.useState)(void 0),v=j[0],f=j[1];console.log(_);return(0,s.useEffect)((function(){var e=setInterval((function(){c()({method:"POST",url:"http://127.0.0.1:5000/current-price",headers:{"Content-Type":"text/plain"},data:JSON.stringify(_)}).then((function(e){var n=e.data.price;f(n),console.log(n)})).catch((function(e){console.log(e)}))}),2e3);return function(){return clearInterval(e)}}),[v]),"portfolio_value"!=i&&(h=r,u=o,_=i,m=d,p=n(v-d),x=n((v-d)/d*100)),(0,t.jsx)("tbody",{children:(0,t.jsxs)("tr",{className:l().holding_detail,children:[(0,t.jsx)("td",{className:l().comp_link,children:i}),(0,t.jsx)("td",{children:"Wakron, INC."}),(0,t.jsx)("td",{children:u}),(0,t.jsx)("td",{children:m}),(0,t.jsx)("td",{children:n(h)}),(0,t.jsx)("td",{style:p>0?{color:"#C9FFD1"}:{color:"#FD6565"},children:p}),(0,t.jsxs)("td",{style:x>0?{color:"#C9FFD1"}:{color:"#FD6565"},children:[x,"%"]})]})},i)}var p=function(e){var n=(new o.Z).get("userData"),r=(0,s.useRef)(null),i=(0,s.useState)({portfolio_value:{accountValue:0,cashValue:0,category:"portfolio_value",holdingValue:0}}),c=i[0],d=i[1];return(0,s.useEffect)((function(){var e=setInterval((function(){a(9669)({method:"post",url:"http://127.0.0.1:5000/portfolio-detail",headers:{"Content-Type":"text/plain"},data:JSON.stringify(n.user_name)}).then((function(e){d(e.data[0])})).catch((function(e){console.log(e)}))}),2e3);return function(){return clearInterval(e)}}),[c]),console.log(c.portfolio_value),(0,t.jsx)("div",{className:l().scroll,children:(0,t.jsx)("div",{ref:r,children:(0,t.jsxs)("table",{className:l().screener_table,children:[(0,t.jsx)("tbody",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Ticker"}),(0,t.jsx)("th",{children:"Company"}),(0,t.jsx)("th",{children:"Shares"}),(0,t.jsx)("th",{children:"Last Buy-In"}),(0,t.jsx)("th",{children:"Total Value"}),(0,t.jsx)("th",{children:"Change"}),(0,t.jsx)("th",{children:"Percentage"})]})}),Object.keys(c).map((function(e){return"portfolio_value"!=e?(0,t.jsx)(m,{company:c[e]}):(0,t.jsx)("tbody",{},"random")}))]})})})},x=a(2923),j=a(1163),v=_()((function(){return Promise.all([a.e(136),a.e(554)]).then(a.bind(a,5554))}),{loadableGenerated:{webpack:function(){return[5554]}},ssr:!1}),f=function(e){(0,j.useRouter)();var n=(new o.Z).get("userData"),a=(0,s.useState)(!1),r=a[0],i=a[1],u=function(){i(!r)},_=(0,s.useState)(0),m=_[0],f=_[1];return(0,s.useEffect)((function(){console.log(n);var e=JSON.stringify(n.user_name);console.log(e),console.log(n.user_name);var a={method:"post",url:"http://127.0.0.1:5000/show-ranking",headers:{"Content-Type":"text/plain"},data:e};return c()(a).then((function(n){f(n.data),console.log(e)})).catch((function(e){console.log(e)})),function(){return clearInterval(e)}}),[]),(0,t.jsxs)("div",{children:[(0,t.jsx)(x.Z,{}),(0,t.jsxs)("div",{className:l().container,children:[(0,t.jsx)("div",{className:l().center_container,children:(0,t.jsxs)("div",{className:l().inline,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:l().header,children:"PORTFOLIO OVERVIEW"}),(0,t.jsx)("div",{className:l().value_container,style:{marginBottom:"1.25em"},children:(0,t.jsx)(h,{})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:l().header,children:"GAME STATUS"}),(0,t.jsxs)("div",{className:l().value_container,style:{paddingLeft:"1em",paddingTop:"0.5em",paddingBottom:"0.75em"},children:[(0,t.jsx)("p",{className:l().title,children:"CURRENT RANK"}),(0,t.jsx)("p",{className:l().account_value,children:m}),(0,t.jsx)("button",{className:l().trade_btn,onClick:u,children:(0,t.jsx)("p",{children:"Trade Stocks"})}),r&&(0,t.jsx)(d,{toggleClose:u,user_data:n})]})]})]}),(0,t.jsxs)("div",{style:{marginLeft:"1em"},children:[(0,t.jsx)("p",{className:l().header,children:"HOLDING DETAIL"}),(0,t.jsx)("div",{className:l().holdings_container,children:(0,t.jsx)(p,{user_data:n})})]})]})}),(0,t.jsx)("div",{className:l().center_container,children:(0,t.jsxs)("div",{className:l().inline,style:{marginTop:"1.5em",marginBottom:"7em"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:l().header,children:"PORTFOLIO PERFORMANCE CHART"}),(0,t.jsx)("div",{className:l().chart_container,children:(0,t.jsx)("div",{className:l().chart,children:(0,t.jsx)(v,{})})})]}),(0,t.jsxs)("div",{style:{marginLeft:"1em"},children:[(0,t.jsx)("p",{className:l().header,children:"GAME RANKING"}),(0,t.jsx)("div",{className:l().ranking_container,children:(0,t.jsx)("table",{className:l().user_table,children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Rank"}),(0,t.jsx)("th",{children:"User Name"}),(0,t.jsx)("th",{children:"Net Worth"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"1"}),(0,t.jsx)("td",{className:l().normal,children:"Avril_Cui777"}),(0,t.jsx)("td",{className:l().normal,children:"$100,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"2"}),(0,t.jsx)("td",{className:l().normal,children:"KEYL"}),(0,t.jsx)("td",{className:l().normal,children:"$52,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"3"}),(0,t.jsx)("td",{className:l().normal,children:"CathieWoods"}),(0,t.jsx)("td",{className:l().normal,children:"$32,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"4"}),(0,t.jsx)("td",{className:l().normal,children:"Elon_Musk"}),(0,t.jsx)("td",{className:l().normal,children:"$22,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"5"}),(0,t.jsx)("td",{className:l().normal,children:"FriFrrrr"}),(0,t.jsx)("td",{className:l().normal,children:"$19,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"6"}),(0,t.jsx)("td",{className:l().normal,children:"GordonGakko"}),(0,t.jsx)("td",{className:l().normal,children:"$12,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"7"}),(0,t.jsx)("td",{className:l().normal,children:"GameMaster"}),(0,t.jsx)("td",{className:l().normal,children:"$10,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"8"}),(0,t.jsx)("td",{className:l().normal,children:"Krayon_?"}),(0,t.jsx)("td",{className:l().normal,children:"$8,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"9"}),(0,t.jsx)("td",{className:l().normal,children:"Friday_Cute"}),(0,t.jsx)("td",{className:l().normal,children:"$6,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"10"}),(0,t.jsx)("td",{className:l().normal,children:"Kelly777"}),(0,t.jsx)("td",{className:l().normal,children:"$5,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"11"}),(0,t.jsx)("td",{className:l().normal,children:"IceBreaker"}),(0,t.jsx)("td",{className:l().normal,children:"$4,000,000"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:l().ranking,children:"12"}),(0,t.jsx)("td",{className:l().normal,children:"Dimond?"}),(0,t.jsx)("td",{className:l().normal,children:"$3,000,000"})]})]})})})]})]})})]})]})}},6855:function(e){e.exports={container:"portfolio_container__PJG1w",center_container:"portfolio_center_container__JF5yk",value_container:"portfolio_value_container__cpEVG",header:"portfolio_header__OZa2A",title:"portfolio_title__1UX6E",account_value:"portfolio_account_value__jhd7_",inline:"portfolio_inline___enJ8",price_change:"portfolio_price_change__lfPWj",change_percentage:"portfolio_change_percentage__etCCn",trade_type:"portfolio_trade_type__MVDwd",trade_text:"portfolio_trade_text__ZbS5Z",trade_input_container:"portfolio_trade_input_container__QQp7c",trade_current:"portfolio_trade_current__gwrMP",price_place:"portfolio_price_place__ob5wN",trade_place:"portfolio_trade_place__jAIX9",trade_stock_button:"portfolio_trade_stock_button__hKGng",back:"portfolio_back__y8y12",pop_up_container:"portfolio_pop_up_container__BAg5U",box:"portfolio_box__W70va",trade_btn:"portfolio_trade_btn__QSrq9",success:"portfolio_success__eVNZU",chart_container:"portfolio_chart_container__aKe27",chart:"portfolio_chart__VdRPM",holdings_container:"portfolio_holdings_container__GXHTS",screener_table:"portfolio_screener_table__8J9WP",holding_detail:"portfolio_holding_detail__fux_l",comp_link:"portfolio_comp_link__9s3lE",scroll:"portfolio_scroll__jItxB",ranking_container:"portfolio_ranking_container__Pf5z_",user_table:"portfolio_user_table__CykOg",normal:"portfolio_normal__UQxoZ",ranking:"portfolio_ranking__V1fR4"}}},function(e){e.O(0,[669,774,888,179],(function(){return n=528,e(e.s=n);var n}));var n=e.O();_N_E=n}]);